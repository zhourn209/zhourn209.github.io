<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>我的多页便签</title>
<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto}
body{background:#f7f8fa;padding:20px;display:flex;flex-direction:column;align-items:center;min-height:100vh}
.header{margin-bottom:20px;display:flex;gap:10px;flex-wrap:wrap;justify-content:center}
.page-btn{padding:10px 16px;border:none;border-radius:12px;background:#fff;box-shadow:0 2px 8px rgba(0,0,0,.08);cursor:pointer;font-size:16px}
.page-btn.active{background:#5191ff;color:#fff}
.add-btn{background:#51c851;color:#fff}
.editor{width:100%;max-width:600px;background:#fff;border-radius:16px;box-shadow:0 4px 16px rgba(0,0,0,.08);padding:20px}
textarea{width:100%;height:400px;border:none;outline:none;resize:none;font-size:16px;line-height:1.6}
.save-tip{margin-top:10px;font-size:12px;color:#999;text-align:center}
</style>
</head>
<body>
<div class="header">
  <button class="page-btn active" data-page="1">第1页</button>
  <button class="page-btn" data-page="2">第2页</button>
  <button class="page-btn" data-page="3">第3页</button>
  <button class="page-btn add-btn">+ 新增页</button>
</div>
<div class="editor">
  <textarea id="note" placeholder="写便签..."></textarea>
</div>
<div class="save-tip">本地自动保存</div>

<script>
const textarea = document.getElementById('note')
let currentPage = 1

function loadPage(page) {
  currentPage = page
  textarea.value = localStorage.getItem('note_'+page) || ''
  document.querySelectorAll('.page-btn').forEach(b=>b.classList.remove('active'))
  document.querySelector(`.page-btn[data-page="${page}"]`).classList.add('active')
}

textarea.addEventListener('input', ()=>{
  localStorage.setItem('note_'+currentPage, textarea.value)
})

document.querySelectorAll('.page-btn:not(.add-btn)').forEach(btn=>{
  btn.addEventListener('click', ()=>{
    loadPage(btn.dataset.page)
  })
})

document.querySelector('.add-btn').addEventListener('click', ()=>{
  const pages = Array.from(document.querySelectorAll('.page-btn:not(.add-btn)'))
  const max = Math.max(...pages.map(b=>+b.dataset.page))
  const newPage = max+1
  const el = document.createElement('button')
  el.className = 'page-btn'
  el.dataset.page = newPage
  el.textContent = `第${newPage}页`
  document.querySelector('.header').insertBefore(el, document.querySelector('.add-btn'))
  el.addEventListener('click', ()=>loadPage(newPage))
  loadPage(newPage)
})

loadPage(1)
</script>
</body>
</html>

